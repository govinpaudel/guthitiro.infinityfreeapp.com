import { Injectable } from '@angular/core';
@Injectable({
  providedIn: 'root'
})
export class NumtowordsService {
  constructor() { }

  
numToWords(data: number | string): string {
  const a = ['', 'एक ', 'दुई ', 'तिन ', 'चार ', 'पाँच ', 'छ ', 'सात ', 'आठ ', 'नौ ',
    'दश ', 'एघार ', 'बाह्र ', 'तेह्र ', 'चौध ', 'पन्ध्र ', 'सोह्र ', 'सत्र ', 'अठार ', 'उन्नाईस ',
    'बिस ', 'एक्काईस ', 'बाईस ', 'तेईस ', 'चौविस ', 'पच्चिस ', 'छब्बिस ', 'सत्ताईस ', 'अठ्ठाईस ', 'उनन्तिस ',
    'तिस ', 'एकतिस ', 'बत्तिस ', 'तेत्तिस ', 'चौतिस ', 'पैतिस ', 'छत्तिस ', 'सर्तिस ', 'अठ्तिस ', 'उनन्चालिस ',
    'चालिस ', 'एकचालिस ', 'बयालिस ', 'त्रिचालिस ', 'चौवालिस ', 'पैतालिस ', 'छयालिस ', 'सर्चालिस ', 'अढ्चालिस ', 'उनन्पपास ',
    'पचास ', 'एकाउन्न ', 'बाउन्न ', 'त्रिपन्न ', 'चौअन्न ', 'पच्पन्न ', 'छपन्न ', 'सन्ताउन्न ', 'अन्ठाउन्न ', 'उनन्साठी ',
    'साठी ', 'एकसठ्ठी ', 'बैसठ्ठी ', 'त्रिसठ्ठी ', 'चौसठ्ठी ', 'पैसठ्ठी ', 'छैसठ्ठी ', 'सर्सठ्ठी ', 'अढसठ्ठी ', 'उनान्सत्तरी ',
    'सत्तरी ', 'एकत्तर ', 'बहत्तर ', 'त्रिहत्तर ', 'चौरत्तर ', 'पचत्तर ', 'छ्यात्तर ', 'सतहत्तर ', 'अठत्तर ', 'उनासी ',
    'असी ', 'एकासी ', 'बयासी ', 'त्रियासी ', 'चौरासी ', 'पचासी ', 'छ्यासी ', 'सतासी ', 'अठासी ', 'उनानब्बे ',
    'नब्बे ', 'एकानब्बे ', 'बयानब्बे ', 'त्रियानब्बे ', 'चौरानब्बे ', 'पन्चानब्बे ', 'छ्यानब्बे ', 'सन्तानब्बे ', 'अन्ठानब्बे ', 'उनान्सय '];

  const num = Number(data);
  if (isNaN(num)) return 'Invalid number';

  const [rupeesStr, paisaStr] = num.toFixed(2).split('.');

  if (rupeesStr.length > 9) return 'overflow';

  const rupees = ('000000000' + rupeesStr).slice(-9);
  const n = rupees.match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);

  if (!n) return 'Invalid format';

  let str = 'अक्षरुपीः ';
  str += n[1] !== '00' ? (a[+n[1]] || (a[+n[1][0]] + a[+n[1][1]])) + 'करोड ' : '';
  str += n[2] !== '00' ? (a[+n[2]] || (a[+n[2][0]] + a[+n[2][1]])) + 'लाख ' : '';
  str += n[3] !== '00' ? (a[+n[3]] || (a[+n[3][0]] + a[+n[3][1]])) + 'हजार ' : '';
  str += n[4] !== '0' ? a[+n[4]] + 'सय ' : '';
  str += n[5] !== '00' ? (a[+n[5]] || (a[+n[5][0]] + a[+n[5][1]])) + 'रुपँया ' : '';

  const paisa = parseInt(paisaStr, 10);
  if (paisa > 0) {
    str += (a[paisa] || (a[+paisaStr[0]] + a[+paisaStr[1]])) + ' पैसा ';
  }

  return str.trim() + ' मात्र';
}


}
